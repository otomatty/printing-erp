{"version":3,"sources":["../../src/makerkit/stepper/index.tsx"],"names":["classNameBuilder","getClassNameBuilder","Stepper","props","variant","Steps","useCallback","labelOrKey","index","selected","complete","className","isNumberVariant","labelClassName","cn","label","number","getStepLabel","Fragment","If","StepDivider","containerClassName","cva","children","spanClassName","Trans"],"mappings":"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","file":"index.js","sourcesContent":["'use client';\n\nimport { Fragment, useCallback } from 'react';\n\nimport { cva } from 'class-variance-authority';\n\nimport { cn } from '../../lib/utils';\nimport { If } from '../if';\nimport { Trans } from '../trans';\n\ntype Variant = 'numbers' | 'default' | 'dots';\n\nconst classNameBuilder = getClassNameBuilder();\n\n/**\n * Renders a stepper component with multiple steps.\n *\n * @param {Object} props - The props object containing the following properties:\n *   - steps {string[]} - An array of strings representing the step labels.\n *   - currentStep {number} - The index of the currently active step.\n *   - variant {string} (optional) - The variant of the stepper component (default: 'default').\n **/\nexport function Stepper(props: {\n  steps: string[];\n  currentStep: number;\n  variant?: Variant;\n}) {\n  const variant = props.variant ?? 'default';\n\n  const Steps = useCallback(() => {\n    return props.steps.map((labelOrKey, index) => {\n      const selected = props.currentStep === index;\n      const complete = props.currentStep > index;\n\n      const className = classNameBuilder({\n        selected,\n        variant,\n        complete,\n      });\n\n      const isNumberVariant = variant === 'numbers';\n      const isDotsVariant = variant === 'dots';\n\n      const labelClassName = cn({\n        'px-1.5 py-2 text-xs': !isNumberVariant,\n        hidden: isDotsVariant,\n      });\n\n      const { label, number } = getStepLabel(labelOrKey, index);\n\n      return (\n        <Fragment\n          // biome-ignore lint/suspicious/noArrayIndexKey: ステップ配列は固定長かつ順序が保たれる\n          key={index}\n        >\n          <div aria-selected={selected} className={className}>\n            <span className={labelClassName}>\n              {number}\n              <If condition={!isNumberVariant}>. {label}</If>\n            </span>\n          </div>\n\n          <If condition={isNumberVariant}>\n            <StepDivider selected={selected} complete={complete}>\n              {label}\n            </StepDivider>\n          </If>\n        </Fragment>\n      );\n    });\n  }, [props.steps, props.currentStep, variant]);\n\n  // If there are no steps, don't render anything.\n  if (props.steps.length < 2) {\n    return null;\n  }\n\n  const containerClassName = cn('w-full', {\n    'flex justify-between': variant === 'numbers',\n    'flex space-x-0.5': variant === 'default',\n    'flex gap-x-4 self-center': variant === 'dots',\n  });\n\n  return (\n    <div className={containerClassName}>\n      <Steps />\n    </div>\n  );\n}\n\nfunction getClassNameBuilder() {\n  return cva('', {\n    variants: {\n      variant: {\n        default: 'flex h-[2.5px] w-full flex-col transition-all duration-500',\n        numbers:\n          'flex h-9 w-9 items-center justify-center rounded-full border text-sm font-bold',\n        dots: 'bg-muted h-2.5 w-2.5 rounded-full transition-colors',\n      },\n      selected: {\n        true: '',\n        false: 'hidden sm:flex',\n      },\n      complete: {\n        true: '',\n        false: '',\n      },\n    },\n    compoundVariants: [\n      {\n        variant: 'default',\n        selected: false,\n        className: 'text-muted-foreground',\n      },\n      {\n        variant: 'default',\n        selected: true,\n        className: 'bg-primary font-medium',\n      },\n      {\n        variant: 'default',\n        selected: false,\n        complete: false,\n        className: 'bg-muted',\n      },\n      {\n        variant: 'default',\n        selected: false,\n        complete: true,\n        className: 'bg-primary',\n      },\n      {\n        variant: 'numbers',\n        selected: false,\n        complete: true,\n        className: 'border-primary text-primary',\n      },\n      {\n        variant: 'numbers',\n        selected: true,\n        className: 'border-primary bg-primary text-primary-foreground',\n      },\n      {\n        variant: 'numbers',\n        selected: false,\n        className: 'text-muted-foreground',\n      },\n      {\n        variant: 'dots',\n        selected: true,\n        complete: true,\n        className: 'bg-primary',\n      },\n      {\n        variant: 'dots',\n        selected: false,\n        complete: true,\n        className: 'bg-primary',\n      },\n      {\n        variant: 'dots',\n        selected: true,\n        complete: false,\n        className: 'bg-primary',\n      },\n      {\n        variant: 'dots',\n        selected: false,\n        complete: false,\n        className: 'bg-muted',\n      },\n    ],\n    defaultVariants: {\n      variant: 'default',\n      selected: false,\n    },\n  });\n}\n\nfunction StepDivider({\n  selected,\n  complete,\n  children,\n}: React.PropsWithChildren<{\n  selected: boolean;\n  complete: boolean;\n}>) {\n  const spanClassName = cn('min-w-max text-sm font-medium', {\n    'text-muted-foreground hidden sm:flex': !selected,\n    'text-secondary-foreground': selected || complete,\n    'font-medium': selected,\n  });\n\n  const className = cn(\n    'flex h-9 flex-1 items-center justify-center last:flex-[0_0_0]' +\n      ' group flex w-full items-center space-x-3 px-3'\n  );\n\n  return (\n    <div className={className}>\n      <span className={spanClassName}>{children}</span>\n\n      <div\n        className={\n          'divider h-[1px] w-full bg-gray-200 transition-colors' +\n          ' dark:bg-border hidden group-last:hidden sm:flex'\n        }\n      />\n    </div>\n  );\n}\n\nfunction getStepLabel(labelOrKey: string, index: number) {\n  const number = (index + 1).toString();\n\n  return {\n    number,\n    label: <Trans i18nKey={labelOrKey} defaults={labelOrKey} />,\n  };\n}\n"]}